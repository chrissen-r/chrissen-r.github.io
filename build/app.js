var App=function(){this.init()};App.prototype.init=function(){this.$={},this.$.body=$("body"),this.$.loader=this.$.body.find(".loader"),this.$.loaded=this.$.body.find(".loader .loaded"),this.load(),this.templates=window.templates},App.prototype.load=function(){for(var t=this,e=["/img/explore.jpg","/img/layer.jpg","/img/masterpiece.jpg","/img/tesla.jpg","/img/louis.jpg"],n=0,a=0;a<e.length;a++){var o=document.createElement("img");o.src=e[a],o.style.display="hidden",o.onload=function(){if(n++,n==e.length-1){var a=100*n/(e.length-1);t.$.loaded.width(a+"%"),t.$.loader.fadeOut("slow"),t.setRouting(),t.initProjectEvents()}else{var a=100*n/(e.length-1);t.$.loaded.width(a+"%")}},document.body.appendChild(o)}},App.prototype.checkIfMobile=function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?this.loadView("homemobile",{}):this.loadView("home",{})},App.prototype.initPage=function(){var t=$(".view");t.hasClass("project")?this.page=new Project:console.log("no controller")},App.prototype.initProjectEvents=function(){$(window).on("mousewheel",_.throttle(function(t){console.log("first"),$(".view").hasClass("project")&&(t.originalEvent.wheelDelta/120>0?app.changeProject("previous"):app.changeProject("next"))},1800,{trailing:!1}))},App.prototype.setRouting=function(){this.router=new Navigo(null,!1);var t=this;this.router.on("/contact",function(){t.loadView("contact",{})},!0),this.router.on("/mobile",function(){t.loadView("homemobile",{})},!0),this.router.on("/project/:id",function(e){t.getParams(e.id).then(function(e){t.currentProject=e,t.loadView("project",e)})},!0),this.router.on("*",function(){t.checkIfMobile()})},App.prototype.loadView=function(t,e){var n=$(".view");n.length>0?(this.animateOut(n,t,e),this.animateIn($(".view:nth-child(2)"),!0,n)):($("#app").html(this.getTemplate(t,e)),this.animateIn($(".view"),!1)),this.initPage()},App.prototype.loadProject=function(){},App.prototype.getTemplate=function(t,e){return this.templates[t](e)},App.prototype.getParams=function(t){return $.getJSON("../json/projects.json").then(function(e){return e=e[t]})},App.prototype.changeProject=function(t){"previous"==t?this.router.navigate("project/"+this.currentProject.previousProject):this.router.navigate("project/"+this.currentProject.nextProject)},App.prototype.animateIn=function(t,e,n){var a=t;"undefined"!=typeof n&&n.hasClass("project")&&a.addClass("from-project"),a.addClass("animate-in"),e?setTimeout(function(){a.find(".top, .bottom").fadeIn("slow"),setTimeout(function(){a.removeClass("animate-in")},50),setTimeout(function(){a.addClass("view-loaded")},900)},1200):(setTimeout(function(){a.find(".top, .bottom").fadeIn("slow"),a.removeClass("animate-in")},50),setTimeout(function(){a.addClass("view-loaded")},900)),this.router.updatePageLinks()},App.prototype.animateOut=function(t,e,n){var a=t;a.find(".top, .bottom").fadeOut(),a.find(".content-centered").addClass("scale-out"),a.css("zIndex","7"),a.after(this.getTemplate(e,n)),a.addClass("fade-out"),setTimeout(function(){a.remove()},1200)};var Project=function(){this.init()};Project.prototype.init=function(){console.log("init project"),this.initEvents()},Project.prototype.initEvents=function(){},this.templates=this.templates||{},this.templates.contact=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,a){return'<div class="view contact">\n    <div class="content clearfix">\n        <a class="btn left col-2 top" href="/" data-navigo ><span>About</span></a><br>\n        <a class="btn left col-2 top" href="project/tesla" data-navigo ><span>Works</span></a>\n        <div class="content-centered">\n            <h1 class="col-3">Let\'s keep in touch</h1>\n            <p class="col-3">Iâ€™m looking for an internship from July to October in London as a Web Designer !<br>I also do freelance work, feel free to contact me for any request.</p>\n            <a class="btn right col-right-3" href="mailto:chrissen.r@gmail.com"><span>E-mail</span></a><br>\n            <a class="btn right col-right-3" target="_blank" href="https://twitter.com/Chrissen_R"><span>Twitter</span></a><br>\n            <a class="btn right col-right-3" target="_blank" href="https://www.behance.net/chrissenr"><span>Behance</span></a>\n        </div>\n        <a class="btn left col-2 bottom" target="_blank" href="http://louisamiot.com"><span>Developed by Louis Amiot</span></a>        \n    </div>\n</div>'},useData:!0}),this.templates.home=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,a){return'<div class="view home">\n    <div class="content clearfix">\n        <a class="btn left col-2 top" href="project/tesla" data-navigo ><span>Works</span></a>\n        <div class="content-centered">\n            <h1 class="col-3">Rajathurai Chrissen</h1>\n            <p class="col-3">I am a French UI Designer & 3rd year student @HETIC.<br>Looking for a 4 month internship in London!</p>\n            <a class="btn right col-right-3" target="_blank" href="files/resume.pdf"><span>My Resume</span></a>\n        </div>\n        <a class="btn left col-2 bottom" href="contact" data-navigo ><span>Contact</span></a>\n    </div>\n</div>'},useData:!0}),this.templates.homemobile=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,a){return'<div class="view homemobile">\n    <div class="content clearfix">\n        <a class="btn left col-2 top" href="project/tesla" data-navigo ><span>Works</span></a>\n        <div class="content-centered">\n            <h1 class="col-2">Rajathurai Chrissen</h1>\n            <p class="col-2">French UX | UI Designer, 3rd year student @HETIC.<br>Looking for a 4 month internship in London.</p>\n            <a class="btn right col-right-4" target="_blank" href="files/resume.pdf"><span>My Resume</span></a><br>\n            <a class="btn right col-right-4" href="mailto:chrissen.r@gmail.com"><span>E-mail</span></a><br>\n            <a class="btn right col-right-4" target="_blank" href="https://twitter.com/Chrissen_R"><span>Twitter</span></a><br>\n            <a class="btn right col-right-4" target="_blank" href="https://www.behance.net/chrissenr"><span>Behance</span></a>\n        </div>\n    </div>\n</div>'},useData:!0}),this.templates.project=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,a){var o,i=e.helperMissing,s="function",r=this.escapeExpression;return'<div class="view project project-'+r((o=null!=(o=e.id||(null!=t?t.id:t))?o:i,typeof o===s?o.call(t,{name:"id",hash:{},data:a}):o))+'">\n    <div class="layer"></div>\n    <div class="content clearfix">\n        <a class="btn left col-2 top" href="/" data-navigo rel="no-refresh" ><span>About</span></a>\n        <div class="content-centered">\n            <h1 class="col-3">'+r((o=null!=(o=e.name||(null!=t?t.name:t))?o:i,typeof o===s?o.call(t,{name:"name",hash:{},data:a}):o))+'</h1>\n            <p class="col-3">'+r((o=null!=(o=e.description||(null!=t?t.description:t))?o:i,typeof o===s?o.call(t,{name:"description",hash:{},data:a}):o))+'</p>\n            <a class="btn right col-right-3" target="_blank" href="'+r((o=null!=(o=e.link||(null!=t?t.link:t))?o:i,typeof o===s?o.call(t,{name:"link",hash:{},data:a}):o))+'"><span>Website</span></a>\n            <div class="project-info col-3">\n                <p><span>'+r((o=null!=(o=e.scope||(null!=t?t.scope:t))?o:i,typeof o===s?o.call(t,{name:"scope",hash:{},data:a}):o))+"</span></p>\n                <p><span>"+r((o=null!=(o=e.job||(null!=t?t.job:t))?o:i,typeof o===s?o.call(t,{name:"job",hash:{},data:a}):o))+'</span></p>\n            </div>\n        </div>\n        <a class="btn left col-2 bottom" href="contact" data-navigo rel="no-refresh" ><span>Contact</span></a>        \n    </div>\n</div>'},useData:!0});